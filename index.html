<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#16213e">
    <meta name="google-adsense-account" content="ca-pub-1816282885500573">
    <title>JupterNews - Not√≠cias Atuais e Confi√°veis</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="logo.svg" type="image/svg+xml">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1816282885500573" crossorigin="anonymous"></script>
    
    <!-- Font Awesome LOCAL (solu√ß√£o corrigida) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Fallback para Font Awesome -->
    <style>
        /* Garantir que os √≠cones tenham uma fonte de fallback */
        .fa, .fas, .far, .fal, .fad, .fab {
            font-family: 'Font Awesome 6 Free', 'Font Awesome 6 Brands', -apple-system, BlinkMacSystemFont, sans-serif !important;
        }
        .fas, .fa-solid {
            font-weight: 900;
        }
        .far, .fa-regular {
            font-weight: 400;
        }
        .fab, .fa-brands {
            font-weight: 400;
        }
        
        /* Estilos espec√≠ficos para √≠cones do WhatsApp */
        .fa-whatsapp:before {
            content: "\f232";
            font-family: 'Font Awesome 6 Brands' !important;
        }
        
        /* Garantir que √≠cones apare√ßam mesmo se Font Awesome falhar */
        .fa-whatsapp::before,
        .fab.fa-whatsapp::before {
            content: "Ôà≤";
            font-family: 'Font Awesome 6 Brands';
        }
        
        /* Fallback de emerg√™ncia */
        .whatsapp-btn i::before,
        .whatsapp-join i::before,
        .whatsapp-link i::before {
            font-family: 'Font Awesome 6 Brands', 'Segoe UI Symbol', sans-serif !important;
        }
    </style>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <!-- Estilos principais -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Estilos inline para garantir que √≠cones apare√ßam -->
    <style>
        /* Estilos emergenciais para √≠cones do WhatsApp */
        .whatsapp-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: #25D366;
            color: white;
            border-radius: 50%;
            font-size: 24px;
            margin-right: 10px;
        }
        
        .whatsapp-icon i,
        .whatsapp-btn i,
        .whatsapp-join i,
        .whatsapp-link i {
            display: inline-block;
            font-style: normal;
        }
        
        /* Solu√ß√£o de fallback definitiva */
        .fa-whatsapp.fallback::before {
            content: "WA";
            font-family: Arial, sans-serif;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        /* Garantir visibilidade dos bot√µes do WhatsApp */
        .whatsapp-btn, .whatsapp-join, .whatsapp-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background-color: #25D366;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .whatsapp-btn:hover, .whatsapp-join:hover, .whatsapp-link:hover {
            background-color: #128C7E;
        }
        
        .whatsapp-btn i, .whatsapp-join i, .whatsapp-link i {
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo-area">
                <div class="logo-inline" aria-hidden="true">
                    <svg id="jupter-logo" width="56" height="56" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="JupterNews logo">
                        <circle cx="32" cy="32" r="28" fill="#00b4d8"/>
                        <path d="M8 34c15 10 34 10 48 0" fill="none" stroke="#fff" stroke-width="3" stroke-linecap="round"/>
                        <circle cx="44" cy="20" r="6" fill="#90e0ef"/>
                    </svg>
                </div>
                <div class="brand-text">
                    <h1><span class="brand">JupterNews</span></h1>
                    <p class="tagline">Not√≠cias do mundo em tempo real</p>
                </div>
            </div>

            <div class="user-actions">
                <button class="subscribe-btn" id="subscribeBtn"><i class="fas fa-bell"></i> Assinar</button>
                <a id="whatsappChannel" href="https://whatsapp.com/channel/0029Vb7IQJFAu3aLGetT6r00" class="whatsapp-btn" target="_blank" rel="noopener">
                    <i class="fab fa-whatsapp"></i> <span class="btn-text">WhatsApp</span>
                </a>
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <nav class="main-nav">
            <ul class="nav-list" id="navList">
                <li><a href="#" class="nav-link active" data-category="all"><i class="fas fa-home"></i> In√≠cio</a></li>
                <li><a href="#" class="nav-link" data-category="urgentes"><i class="fas fa-bolt"></i> Urgentes</a></li>
                <li><a href="#" class="nav-link" data-category="economia"><i class="fas fa-chart-line"></i> Economia</a></li>
                <li><a href="#" class="nav-link" data-category="ciencia"><i class="fas fa-flask"></i> Ci√™ncia</a></li>
                <li><a href="#" class="nav-link" data-category="esportes"><i class="fas fa-futbol"></i> Esportes</a></li>
                <li><a href="#" class="nav-link" data-category="cultura"><i class="fas fa-music"></i> Cultura</a></li>
                <li><a href="#" class="nav-link" data-category="tecnologia"><i class="fas fa-laptop-code"></i> Tecnologia</a></li>
                <li><a href="#" class="nav-link" data-category="saude"><i class="fas fa-heartbeat"></i> Sa√∫de</a></li>
                <li class="search-item">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="Buscar not√≠cias...">
                        <button id="searchBtn">Buscar</button>
                    </div>
                </li>
            </ul>
        </nav>

        <div class="breaking-news">
            <span class="breaking-label"><i class="fas fa-bolt"></i> URGENTE:</span>
            <marquee>Intelig√™ncia Artificial revoluciona setor de sa√∫de ‚Ä¢ Pre√ßos dos alimentos caem pelo 3¬∫ m√™s consecutivo</marquee>
        </div>
    </header>

    <!-- Conte√∫do Principal -->
    <main class="container">
        <div class="content-wrapper">
            <!-- Destaques -->
            <section class="featured-news">
                <h2 class="section-title"><i class="fas fa-star"></i> <span id="sectionTitle">Destaques do Dia</span></h2>
                <div class="featured-grid" id="featuredContainer"></div>
            </section>

            <!-- AdSense 1 -->
            <div class="adsense-middle">
                <ins class="adsbygoogle"
                     style="display:block; text-align:center;"
                     data-ad-layout="in-article"
                     data-ad-format="fluid"
                     data-ad-client="ca-pub-1816282885500573"
                     data-ad-slot="9876543210"></ins>
            </div>

            <!-- Not√≠cias e Sidebar -->
            <div class="main-content">
                <section class="news-list">
                    <h2 class="section-title"><i class="fas fa-newspaper"></i> <span id="newsListTitle">√öltimas Not√≠cias</span></h2>
                    <div id="newsContainer" class="news-grid"></div>
                    <div class="load-more">
                        <button id="loadMoreBtn"><i class="fas fa-plus"></i> Carregar Mais Not√≠cias</button>
                    </div>
                </section>

                <aside class="sidebar">
                    <!-- V√≠deos -->
                    <div class="sidebar-section">
                        <h3><i class="fas fa-play-circle"></i> V√≠deos em Destaque</h3>
                        <div class="video-item" data-video-title="Lan√ßamento do Novo Foguete Espacial">
                            <div class="video-thumbnail">
                                <img src="https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?auto=format&fit=crop&w=400&q=80" alt="Foguete Espacial">
                                <div class="play-button"><i class="fas fa-play"></i></div>
                            </div>
                            <h4>Lan√ßamento do Novo Foguete Espacial</h4>
                            <span class="video-duration">3:45</span>
                        </div>
                        <div class="video-item" data-video-title="Entrevista com Cientista da NASA">
                            <div class="video-thumbnail">
                                <img src="https://images.unsplash.com/photo-1532094349884-543bc11b234d?auto=format&fit=crop&w=400&q=80" alt="Entrevista NASA">
                                <div class="play-button"><i class="fas fa-play"></i></div>
                            </div>
                            <h4>Entrevista Exclusiva com Cientista da NASA</h4>
                            <span class="video-duration">5:20</span>
                        </div>
                    </div>

                    <!-- WhatsApp -->
                    <div class="sidebar-section whatsapp-channel">
                        <h3><i class="fab fa-whatsapp whatsapp-icon-fallback"></i> Nosso Canal</h3>
                        <div class="whatsapp-info">
                            <div class="whatsapp-icon">
                                <i class="fab fa-whatsapp"></i>
                            </div>
                            <p>Receba as not√≠cias urgentes diretamente no WhatsApp!</p>
                            <a id="whatsappJoin" href="https://whatsapp.com/channel/0029Vb7IQJFAu3aLGetT6r00" class="whatsapp-join" target="_blank" rel="noopener">
                                <i class="fab fa-whatsapp"></i> Entrar no Canal
                            </a>
                            <div class="whatsapp-stickers">
                                <span class="sticker">üöÄ</span>
                                <span class="sticker">üì∞</span>
                                <span class="sticker">‚≠ê</span>
                                <span class="sticker">üîî</span>
                                <span class="sticker">üåç</span>
                            </div>
                        </div>
                    </div>

                    <!-- AdSense 2 -->
                    <div class="sidebar-section adsense-sidebar">
                        <h3><i class="fas fa-ad"></i> Patrocinado</h3>
                        <ins class="adsbygoogle"
                             style="display:block"
                             data-ad-format="rectangle"
                             data-ad-client="ca-pub-1816282885500573"
                             data-ad-slot="5678901234"></ins>
                    </div>

                    <!-- Mais Lidas -->
                    <div class="sidebar-section">
                        <h3><i class="fas fa-chart-line"></i> Mais Lidas Hoje</h3>
                        <ol class="top-news" id="topNewsList"></ol>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- Modais -->
    <div id="newsModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div id="modalNewsContent"></div>

            <div class="comments-section">
                <h3><i class="far fa-comments"></i> Coment√°rios <span id="commentCount">(0)</span></h3>
                <div class="comment-form">
                    <textarea id="commentText" placeholder="Deixe seu coment√°rio (n√£o precisa de conta)..." rows="3" maxlength="500"></textarea>
                    <div class="comment-actions">
                        <button id="submitCommentBtn" class="submit-comment"><i class="fas fa-paper-plane"></i> Enviar Coment√°rio</button>
                        <div class="comment-info">
                            <i class="fas fa-info-circle"></i> <span id="charCount">0/500</span> caracteres
                        </div>
                    </div>
                </div>
                <div id="commentsList" class="comments-list"></div>
            </div>
        </div>
    </div>

    <div id="videoModal" class="modal video-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div id="videoPlayer"></div>
        </div>
    </div>

    <div id="subscribeModal" class="modal subscribe-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="subscribe-content">
                <h2><i class="fas fa-envelope"></i> Newsletter Di√°ria</h2>
                <p>Receba as principais not√≠cias diretamente no seu e-mail ‚Äî gratuito.</p>

                <div class="subscribe-form">
                    <h3>Informe seu e-mail</h3>
                    <div class="form-group">
                        <input type="email" id="subscribeEmail" placeholder="seu@email.com">
                        <button id="confirmSubscribeBtn">Confirmar Assinatura</button>
                    </div>
                    <p class="privacy-note">Ao assinar, voc√™ concorda com nossa <a href="#">Pol√≠tica de Privacidade</a>.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="fas fa-planet-ringed"></i> JupterNews</h3>
                <p>Levando as not√≠cias mais importantes do planeta diretamente para voc√™. Atualiza√ß√µes 24/7.</p>
                <div class="whatsapp-footer">
                    <a id="whatsappFooter" href="https://whatsapp.com/channel/0029Vb7IQJFAu3aLGetT6r00" class="whatsapp-link" target="_blank" rel="noopener">
                        <i class="fab fa-whatsapp"></i> Receba no WhatsApp
                    </a>
                </div>
            </div>

            <div class="footer-section">
                <h4>Editorias</h4>
                <ul>
                    <li><a href="#" class="filter-category" data-category="urgentes">Urgentes</a></li>
                    <li><a href="#" class="filter-category" data-category="economia">Economia</a></li>
                    <li><a href="#" class="filter-category" data-category="ciencia">Ci√™ncia</a></li>
                    <li><a href="#" class="filter-category" data-category="esportes">Esportes</a></li>
                    <li><a href="#" class="filter-category" data-category="tecnologia">Tecnologia</a></li>
                    <li><a href="#" class="filter-category" data-category="saude">Sa√∫de</a></li>
                    <li><a href="#" class="filter-category" data-category="cultura">Cultura</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Recursos</h4>
                <ul>
                    <li><a href="#" id="aboutLink">Sobre a JupterNews</a></li>
                    <li><a href="#" id="contactLink">Contato</a></li>
                    <li><a href="#" id="privacyLink">Privacidade</a></li>
                    <li><a href="#" id="termsLink">Termos de Uso</a></li>
                    <li><a href="#" id="careersLink">Trabalhe Conosco</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Assine nosso Boletim</h4>
                <div class="newsletter">
                    <input type="email" id="newsletterEmail" placeholder="Seu melhor e-mail">
                    <button type="button" id="footerSubscribeBtn"><i class="fas fa-paper-plane"></i></button>
                </div>
                <p>Receba os destaques di√°rios no seu e-mail.</p>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 JupterNews. Todas as not√≠cias s√£o verificadas por nossa equipe editorial.</p>
            <!--<p class="adsense-code">google.com, pub-1816282885500573, DIRECT, f08c47fec0942fa0</p>-->
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Detectar se Font Awesome carregou corretamente
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM carregado, verificando Font Awesome...');
            
            // Verificar se os √≠cones est√£o carregados
            setTimeout(function() {
                const whatsappIcons = document.querySelectorAll('.fa-whatsapp');
                whatsappIcons.forEach(icon => {
                    const computedStyle = window.getComputedStyle(icon, '::before');
                    const content = computedStyle.content;
                    
                    // Se o √≠cone n√£o carregou, aplicar fallback
                    if (content === 'none' || content === '' || content === '""') {
                        console.log('√çcone do WhatsApp n√£o carregou, aplicando fallback');
                        icon.classList.add('fallback');
                        icon.style.fontFamily = 'Arial, sans-serif';
                        icon.style.fontWeight = 'bold';
                    } else {
                        console.log('√çcone do WhatsApp carregado com sucesso:', content);
                    }
                });
            }, 1000);
            
            // Alternativa: usar SVG como fallback
            const loadWhatsAppSVG = function() {
                const whatsappButtons = document.querySelectorAll('.whatsapp-btn, .whatsapp-join, .whatsapp-link');
                whatsappButtons.forEach(btn => {
                    const icon = btn.querySelector('i');
                    if (icon && icon.classList.contains('fa-whatsapp')) {
                        // Criar SVG como fallback
                        const svgFallback = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                        svgFallback.setAttribute('viewBox', '0 0 448 512');
                        svgFallback.setAttribute('width', '18');
                        svgFallback.setAttribute('height', '18');
                        svgFallback.style.marginRight = '5px';
                        
                        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                        path.setAttribute('d', 'M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z');
                        path.setAttribute('fill', 'currentColor');
                        
                        svgFallback.appendChild(path);
                        
                        // Substituir √≠cone por SVG se necess√°rio
                        const computedStyle = window.getComputedStyle(icon, '::before');
                        if (computedStyle.content === 'none' || computedStyle.content === '' || computedStyle.content === '""') {
                            icon.style.display = 'none';
                            btn.insertBefore(svgFallback, btn.firstChild);
                        }
                    }
                });
            };
            
            // Executar fallback ap√≥s 2 segundos
            setTimeout(loadWhatsAppSVG, 2000);
        });
    </script>

    <!-- Supabase com fallback -->
    <script>
        function loadSupabase() {
            const script = document.createElement('script');
            script.src = 'https://unpkg.com/@supabase/supabase-js@2';
            script.onload = () => console.log('Supabase carregado com sucesso');
            script.onerror = () => console.warn('Supabase n√£o p√¥de ser carregado. Modo offline ativado.');
            document.head.appendChild(script);
        }
        
        setTimeout(loadSupabase, 100);
    </script>
    
    <script src="app.js"></script>
    
    <!-- Service Worker apenas em produ√ß√£o -->
    <script>
        if ('serviceWorker' in navigator && !window.location.hostname.includes('localhost') && !window.location.hostname.includes('127.0.0.1')) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('Service Worker registrado:', reg.scope))
                    .catch(err => console.log('Service Worker n√£o registrado (normal em dev):', err));
            });
        }
    </script>
</body>
</html>